磁盘的配置和选择
使用传统机器硬盘
使用RAID增强传统机器硬盘的性能
使用固态存储SSD和PCIe卡
使用网络存储NAS和SAN

传统机器硬盘
存储空间大 价格低 读写较慢 使用最多 最常见

传统机器硬盘读取数据的过程
1. 移动磁头到磁盘表面上的正确位置
2. 等待磁盘旋转 使的所需的数据在磁头之下
3. 等待磁盘旋转过去 所有所需的数据都被磁头读出

如何选择传统机器硬盘
存储容量 传输速度 访问时间 主轴转速 物理尺寸

使用RAID增强传统机器硬盘的性能
什么是RAID
RAID 是磁盘冗余队列的简称(Redundant Arrays of Independent Disks)
简单来说RAID的作用就是可以把多个容量较小的磁盘组成一组容量题名大的磁盘 并提供数据冗余来保证数据完整性的技术

RAID 0 是最早出现的RAID模式 也称之为数据条带 是组建磁盘阵列中最简单的一种形式
只需要2块以上的硬盘即可 成本低 可以提高整个磁盘的性能和吞吐量
RAID 0没有提供冗余或错误修复能力 但是实现成本是最低的

RAID 1又称磁盘镜像 原理是把一个磁盘的数据镜像到另一个磁盘上
也就是说数据在写入一块磁盘的同时 会在另一块闲置的磁盘上生成镜像文件
在不影响性能情况下最大限度的保证系统的可靠性和可修复性

RAID 5 又称之为分布式奇偶校验磁盘阵列
通过分布式奇偶校验块把数据分散到多个磁盘上 这样如果任何一个盘数据失效
都可以从奇偶校验块中重建 但是如果两块磁盘失效 则整个卷的数据都无法恢复

RAID 10 又称分片的镜像
它是对磁盘先做RAID 1之后对两组RAID 1的磁盘再做RAID 0 
所以对读写都有良好的性能 相对于RAID 5 重建起来更简单 速度也更快

RAID级别的选择
等级    特点              是否冗余  盘数  读  写
RAID0   便宜 快速 危险    否        N     快  快
RAID1   高速读 简单 安全  有        2     快  慢
RAID5   安全 成本折中     有        N+1   快  取决于最慢的盘
RAID10  贵 高速 安全      有        2N    快  快

固态存储
闪存 Flash Memory
相比机械磁盘固态磁盘有更好的随机读写性能
相比机械磁盘固态磁盘有更好的支持并发
相比机械磁盘固态磁盘更容易损坏

固态硬盘的特点
使用SATA接口 可以替换传统磁盘而不需任何改变
SATA接口的SSD同样支持RAID技术

固态存储PCIe卡的特点
无法使用SATA接口 需要独特的驱动和配置
价格相对于SSD要贵 但是性能比SSD更好

固态存储的使用场景
适用于存在大量随机I/O的场景
使用于解决单线程负载的I/O瓶颈

网络存储NAS和SAN
SAN ---访问光钎--- 服务器 ---硬盘--- SAN
SAN设备通过光纤连接到服务器 设备通过块接口访问 服务器可以将其当做硬盘使用

SAN 大量顺序读写 不如本地RAID磁盘 读写I/O 缓存 I/O合并 随机读写慢
NAS设备使用网络连接 通过基于文件的协议如NFS或SMB来访问

网络存储的适用场景
数据库备份

网络对性能的影响
网络带宽对性能的影响
网络质量对性能的影响

建议
采用高性能和高带宽的网络接口设备和交换机
对多个网卡进行绑定 增加可用性和带宽
尽可能的进行网络隔离
