什么是基准测试
基准测试是一种测量和评估软件性能指标的活动用于建立某个时刻的性能基准
以便当系统发生软硬件变化时重新进行基准测试以评佑变化对性能的影响

基准测试是针对系统设置的一种压力测试
基准测试 直接 简单 易于比较 用于评估服务器的处理能力
压力测试 对真实的业务数据进行测试 获得真实系统所能承受的压力

压力测试需要针对不同主题 所使用的数据和查询也是真实用到的
基准测试可能不关心业务逻辑 所使用的查询和业务的真实性可以和业务环境没关系

基准测试的目的
建立MySQL服务器的性能基准线
模拟比当前系统更高的负载 以找出系统的扩展瓶颈
测试不同的硬件 软件和操作系统配置
证明新的硬件设置是否配置正确

如何进行基准测试
对整个系统进行基准测试
从系统入口进行测试(如网站Web前端 手机APP前端)
优点 能够测试整个系统的性能 包括web服务器缓存 数据库等

MySQL基准测试的常见指标
单位时间内所处理的事务数(TPS)
单位时间内所处理的查询数(QPS)
响应时间 平均响应时间 最小响应时间 最大响应时间 各时间所占百分比
并发量不等连接数

常用的基准测试工具介绍
MySQL基准测试式作之 mysqlslap
常用参数说明
--auto-generate-sql 由系统自动生成SQL脚本进行测试
--auto-generate-sql-add-autoincrement 在生成的表中增加自增ID
--auto-generate-sql-load-type 指定测试中使用的查询类型
--auto-generate-sql-write-number 指定初始化数据时生成的数据量
--concurrency 指定并发线程的数量
--engine 指定要测试表的存储引擎 可以用逗号分割多个存储引擎
--no-drop 指定不清理测试数据
--iterations 指定测试运行的次数
--number-int-cols 指定测试表中包含的INT类型列的数量
--number-char-cols 指定测试表中包含的varchar类型的数量
--create-schema 指定了用于执行测试的数据库的名字
--query 用于指定自定义SQL的脚本
--only-print 并不运行测试脚本 而是把生成的脚本打印出来


